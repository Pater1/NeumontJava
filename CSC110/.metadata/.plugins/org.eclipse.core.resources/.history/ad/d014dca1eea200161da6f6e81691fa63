package csc110.tictactoe.player.ai.neural;

import java.util.ArrayList;
import java.util.Random;
import csc110.wrappers.Vector2Int;

public class Overmind {
			//fitness sorted	//list of brains	//serialized brains
	private ArrayList<			ArrayList<			ArrayList<Integer>>> brains = new ArrayList<ArrayList<ArrayList<Integer>>>();
	
	public enum Difficulty{
		easy,
		medium,
		hard
	}
	public Difficulty difficulty = Difficulty.easy;
	
	public Vector2Int brainSize;
	
	public ArrayList<ArrayList<Integer>> GetBreedingBrainsFromPool(){
		ArrayList<ArrayList<Integer>> br = new ArrayList<ArrayList<Integer>>();
		
		switch(difficulty){
			case hard:
				br.addAll(brains.get(0));
			case medium:
				br.addAll(brains.get(1));
			case easy:
				br.addAll(brains.get(2));
		}
		
		return br;
	}
	
	private Brain BreedabilityCatch(ArrayList<ArrayList<Integer>> br){
		if(br.size() <= 0){
			return Brain.RandomBrain(brainSize);
		}else{
			Random rand = new Random();
			return BreedBrains(br.get(rand.nextInt(br.size())), br.get(rand.nextInt(br.size())));
		}
	}
	
	public Brain BreedBrains(ArrayList<Integer> ain1, ArrayList<Integer> ain2){
		Random rand = new Random();
		ArrayList<Integer> ou = new ArrayList<Integer>(), rbr = Brain.RandomBrain(brainSize).Serialize();
		for(int i = 0; i < ain1.size(); i++){
			int r = rand.nextInt(130);
			if(r <= 50){
				ou.add(ain1.get(i));
			}else if(r > 100){
				ou.add(rbr.get(i));
			}else{
				ou.add(ain2.get(i));
			}
		}
		
		return Brain.Deserialize(ou);
	}
}
